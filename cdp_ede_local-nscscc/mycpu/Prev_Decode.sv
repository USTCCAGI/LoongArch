// Generated by CIRCT firtool-1.62.0
module Prev_Decode(
  input  [31:0] io_insts_pack_IF_0_pc,
  input         io_insts_pack_IF_0_inst_valid,
                io_insts_pack_IF_0_predict_jump,
  input  [31:0] io_insts_pack_IF_0_pred_npc,
  input         io_insts_pack_IF_0_pred_valid,
  input  [7:0]  io_insts_pack_IF_0_exception,
  input  [31:0] io_insts_pack_IF_0_pc_plus_1_28,
                io_insts_pack_IF_0_pc_minus_1_28,
                io_insts_pack_IF_0_pc_plus_1_18,
                io_insts_pack_IF_0_pc_minus_1_18,
                io_insts_pack_IF_0_inst,
                io_insts_pack_IF_1_pc,
  input         io_insts_pack_IF_1_inst_valid,
                io_insts_pack_IF_1_predict_jump,
  input  [31:0] io_insts_pack_IF_1_pred_npc,
  input         io_insts_pack_IF_1_pred_valid,
  input  [7:0]  io_insts_pack_IF_1_exception,
  input  [31:0] io_insts_pack_IF_1_pc_plus_1_28,
                io_insts_pack_IF_1_pc_minus_1_28,
                io_insts_pack_IF_1_pc_plus_1_18,
                io_insts_pack_IF_1_pc_minus_1_18,
                io_insts_pack_IF_1_inst,
  input  [1:0]  io_pc_sign_IF_0,
                io_pc_sign_IF_1,
  input  [31:0] io_npc4_IF_0,
                io_npc4_IF_1,
  output [31:0] io_insts_pack_PD_0_pc,
  output        io_insts_pack_PD_0_inst_valid,
                io_insts_pack_PD_0_predict_jump,
  output [31:0] io_insts_pack_PD_0_pred_npc,
  output [7:0]  io_insts_pack_PD_0_exception,
  output [31:0] io_insts_pack_PD_0_inst,
                io_insts_pack_PD_1_pc,
  output        io_insts_pack_PD_1_inst_valid,
                io_insts_pack_PD_1_predict_jump,
  output [31:0] io_insts_pack_PD_1_pred_npc,
  output [7:0]  io_insts_pack_PD_1_exception,
  output [31:0] io_insts_pack_PD_1_inst,
  output        io_pred_fix,
  output [31:0] io_pred_fix_target,
  output        io_pred_fix_is_bl,
  output [31:0] io_pred_fix_pc
);

  wire             need_fix_1;
  wire [31:0]      inst_pack_pd_1_pred_npc;
  wire             need_fix_0;
  wire [31:0]      inst_pack_pd_0_pred_npc;
  wire [1:0]       _GEN =
    ((io_insts_pack_IF_0_inst[29:26] ^ 4'h4)
     & (io_insts_pack_IF_0_inst[29:26] ^ 4'h5)) == 4'h0
      ? 2'h1
      : {io_insts_pack_IF_0_inst[29:26] != 4'h3, 1'h0};
  wire [1:0]       jump_type_0 =
    {io_insts_pack_IF_0_inst[31], ~(io_insts_pack_IF_0_inst[30])} == 2'h0 ? _GEN : 2'h3;
  wire [1:0]       _GEN_0 =
    ((io_insts_pack_IF_1_inst[29:26] ^ 4'h4)
     & (io_insts_pack_IF_1_inst[29:26] ^ 4'h5)) == 4'h0
      ? 2'h1
      : {io_insts_pack_IF_1_inst[29:26] != 4'h3, 1'h0};
  wire [1:0]       jump_type_1 =
    {io_insts_pack_IF_1_inst[31], ~(io_insts_pack_IF_1_inst[30])} == 2'h0 ? _GEN_0 : 2'h3;
  wire             _GEN_1 = jump_type_0 != 2'h1;
  wire [31:0]      _pc_in_T_2 =
    _GEN_1 ? io_insts_pack_IF_0_pc_plus_1_18 : io_insts_pack_IF_0_pc_plus_1_28;
  wire [31:0]      _pc_in_T_5 =
    _GEN_1 ? io_insts_pack_IF_0_pc_minus_1_18 : io_insts_pack_IF_0_pc_minus_1_28;
  wire [3:0][31:0] _GEN_2 =
    {{_pc_in_T_5}, {32'h0}, {_pc_in_T_2}, {io_insts_pack_IF_0_pc}};
  wire             _GEN_3 = jump_type_1 != 2'h1;
  wire [31:0]      _pc_in_T_14 =
    _GEN_3 ? io_insts_pack_IF_1_pc_plus_1_18 : io_insts_pack_IF_1_pc_plus_1_28;
  wire [31:0]      _pc_in_T_17 =
    _GEN_3 ? io_insts_pack_IF_1_pc_minus_1_18 : io_insts_pack_IF_1_pc_minus_1_28;
  wire [3:0][31:0] _GEN_4 =
    {{_pc_in_T_17}, {32'h0}, {_pc_in_T_14}, {io_insts_pack_IF_1_pc}};
  wire [31:0]      npc28_0 =
    {_GEN_2[io_pc_sign_IF_0][31:28],
     io_insts_pack_IF_0_inst[9:0],
     io_insts_pack_IF_0_inst[25:10],
     2'h0};
  wire [31:0]      npc28_1 =
    {_GEN_4[io_pc_sign_IF_1][31:28],
     io_insts_pack_IF_1_inst[9:0],
     io_insts_pack_IF_1_inst[25:10],
     2'h0};
  wire             _GEN_5 = jump_type_0 == 2'h1;
  wire [27:0]      _imm_raw_T =
    28'({io_insts_pack_IF_0_inst[9:0], io_insts_pack_IF_0_inst[25:10], 2'h0}
        - io_insts_pack_IF_0_pc[27:0]);
  wire             _GEN_6 = jump_type_0 == 2'h2;
  wire [17:0]      _imm_raw_T_1 =
    18'({io_insts_pack_IF_0_inst[25:10], 2'h0} - io_insts_pack_IF_0_pc[17:0]);
  wire [31:0]      _GEN_7 =
    _GEN_6
      ? {io_insts_pack_IF_0_inst[31:26], _imm_raw_T_1[17:2], io_insts_pack_IF_0_inst[9:0]}
      : io_insts_pack_IF_0_inst;
  wire             _GEN_8 =
    io_insts_pack_IF_0_pred_valid
      ? io_insts_pack_IF_0_predict_jump
      : io_insts_pack_IF_0_inst[25];
  wire [31:0]      _inst_pack_pd_0_pred_npc_T_1 =
    io_insts_pack_IF_0_inst[25]
      ? {_GEN_2[io_pc_sign_IF_0][31:18], io_insts_pack_IF_0_inst[25:10], 2'h0}
      : io_npc4_IF_0;
  wire [31:0]      _GEN_9 =
    io_insts_pack_IF_0_pred_valid
      ? io_insts_pack_IF_0_pred_npc
      : _inst_pack_pd_0_pred_npc_T_1;
  wire             _GEN_10 =
    _GEN_6 ? _GEN_8 : ~(&jump_type_0) & io_insts_pack_IF_0_predict_jump;
  wire [3:0][31:0] _GEN_11 =
    {{io_npc4_IF_0}, {_GEN_9}, {npc28_0}, {io_insts_pack_IF_0_pred_npc}};
  assign inst_pack_pd_0_pred_npc = _GEN_11[jump_type_0];
  wire             _GEN_12 =
    _GEN_6
      ? ~io_insts_pack_IF_0_pred_valid & io_insts_pack_IF_0_inst[25]
        & io_insts_pack_IF_0_inst_valid
      : (&jump_type_0) & io_insts_pack_IF_0_inst_valid & io_insts_pack_IF_0_predict_jump;
  assign need_fix_0 =
    _GEN_5
      ? io_insts_pack_IF_0_inst_valid
        & ~(io_insts_pack_IF_0_predict_jump
            & (io_insts_pack_IF_0_pred_npc ^ npc28_0) == 32'h0)
      : _GEN_12;
  wire             _GEN_13 = jump_type_1 == 2'h1;
  wire [27:0]      _imm_raw_T_2 =
    28'({io_insts_pack_IF_1_inst[9:0], io_insts_pack_IF_1_inst[25:10], 2'h0}
        - io_insts_pack_IF_1_pc[27:0]);
  wire             _GEN_14 = jump_type_1 == 2'h2;
  wire [17:0]      _imm_raw_T_3 =
    18'({io_insts_pack_IF_1_inst[25:10], 2'h0} - io_insts_pack_IF_1_pc[17:0]);
  wire [31:0]      _GEN_15 =
    _GEN_14
      ? {io_insts_pack_IF_1_inst[31:26], _imm_raw_T_3[17:2], io_insts_pack_IF_1_inst[9:0]}
      : io_insts_pack_IF_1_inst;
  wire             _GEN_16 =
    io_insts_pack_IF_1_pred_valid
      ? io_insts_pack_IF_1_predict_jump
      : io_insts_pack_IF_1_inst[25];
  wire [31:0]      _inst_pack_pd_1_pred_npc_T_1 =
    io_insts_pack_IF_1_inst[25]
      ? {_GEN_4[io_pc_sign_IF_1][31:18], io_insts_pack_IF_1_inst[25:10], 2'h0}
      : io_npc4_IF_1;
  wire [31:0]      _GEN_17 =
    io_insts_pack_IF_1_pred_valid
      ? io_insts_pack_IF_1_pred_npc
      : _inst_pack_pd_1_pred_npc_T_1;
  wire             _GEN_18 =
    _GEN_14 ? _GEN_16 : ~(&jump_type_1) & io_insts_pack_IF_1_predict_jump;
  wire [3:0][31:0] _GEN_19 =
    {{io_npc4_IF_1}, {_GEN_17}, {npc28_1}, {io_insts_pack_IF_1_pred_npc}};
  assign inst_pack_pd_1_pred_npc = _GEN_19[jump_type_1];
  wire             _GEN_20 =
    _GEN_14
      ? ~io_insts_pack_IF_1_pred_valid & io_insts_pack_IF_1_inst[25]
        & io_insts_pack_IF_1_inst_valid
      : (&jump_type_1) & io_insts_pack_IF_1_inst_valid & io_insts_pack_IF_1_predict_jump;
  assign need_fix_1 =
    _GEN_13
      ? io_insts_pack_IF_1_inst_valid
        & ~(io_insts_pack_IF_1_predict_jump
            & (io_insts_pack_IF_1_pred_npc ^ npc28_1) == 32'h0)
      : _GEN_20;
  assign io_insts_pack_PD_0_pc = io_insts_pack_IF_0_pc;
  assign io_insts_pack_PD_0_inst_valid = io_insts_pack_IF_0_inst_valid;
  assign io_insts_pack_PD_0_predict_jump = _GEN_5 | _GEN_10;
  assign io_insts_pack_PD_0_pred_npc = inst_pack_pd_0_pred_npc;
  assign io_insts_pack_PD_0_exception = io_insts_pack_IF_0_exception;
  assign io_insts_pack_PD_0_inst =
    _GEN_5
      ? {io_insts_pack_IF_0_inst[31:26], _imm_raw_T[17:2], _imm_raw_T[27:18]}
      : _GEN_7;
  assign io_insts_pack_PD_1_pc = io_insts_pack_IF_1_pc;
  assign io_insts_pack_PD_1_inst_valid =
    io_insts_pack_IF_0_inst_valid & io_insts_pack_IF_1_inst_valid & ~need_fix_0;
  assign io_insts_pack_PD_1_predict_jump = _GEN_13 | _GEN_18;
  assign io_insts_pack_PD_1_pred_npc = inst_pack_pd_1_pred_npc;
  assign io_insts_pack_PD_1_exception = io_insts_pack_IF_1_exception;
  assign io_insts_pack_PD_1_inst =
    _GEN_13
      ? {io_insts_pack_IF_1_inst[31:26], _imm_raw_T_2[17:2], _imm_raw_T_2[27:18]}
      : _GEN_15;
  assign io_pred_fix = |{need_fix_1, need_fix_0};
  assign io_pred_fix_target =
    need_fix_0 ? inst_pack_pd_0_pred_npc : inst_pack_pd_1_pred_npc;
  assign io_pred_fix_is_bl =
    need_fix_0
      ? io_insts_pack_IF_0_inst[29:26] == 4'h5
      : io_insts_pack_IF_1_inst[29:26] == 4'h5;
  assign io_pred_fix_pc = need_fix_0 ? io_insts_pack_IF_0_pc : io_insts_pack_IF_1_pc;
endmodule

